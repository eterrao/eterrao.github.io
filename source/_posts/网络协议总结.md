---
title: 网络协议总结
date: 2021-02-26 22:25:04
tags: 网络协议, 面试
---

- TCP/IP 的参考模型
- GET 和 POST 的区别
- GET 的长度限制是多少
- HTTP 与 HTTPS 的区别
- HTTPS 的加密方式
- HTTP 状态码
- HTTP/1.1 和 HTTP/1.0 的区别
- HTTP/1.x 和 HTTP/2.0 的区别
- HTTP/3 的概念
- DNS 的作用于原理
- 怎么实现 DNS 劫持
- socket() 套接字有哪些
- URI 和 URL 的区别
- 输入网址到回车的那一刻发生了什么，网页解析的过程





### GET 和 POST 的区别

|                                  | GET                               | POST                                               |
| -------------------------------- | --------------------------------- | -------------------------------------------------- |
| 参数                             | 放在 URL 后面，浏览器可以保存记录 | 放在 Request Body 中，浏览器无法保存记录，较为安全 |
| 作用                             | 获取资源信息                      | 修改服务器上的资源                                 |
| 编码                             | 只支持 URL 编码                   | 支持多重编码格式                                   |
| 参数格式要求                     | 只支持 ASCII 字符格式的参数       | 没有限制                                           |
| 提交的数据限制（针对浏览器而言） | 数据大小有限制                    | 无限制                                             |
| 获取变量值的方式                 | 使用 Request.QueryString          | 使用 Request.Form                                  |
| 数据包                           | 产生一个 TCP 数据包               | 产生两个 TCP 数据包（并不是所有浏览器都产生两个）  |

### GET 的长度限制是多少

> HTTP 中的 GET 方法是通过 URL 传递数据的，而 URL 本身并没有对数据的长度进行限制，真正限制 GET 长度的是浏览器，例如 IE 浏览器对 URL 的最大限制为 2000多个字符，大概 2KB左右，像 Chrome, FireFox 等浏览器能支持的 URL 字符数更多，其中 FireFox 中 URL 最大长度限制为 65536 个字符，Chrome 浏览器中 URL 最大长度限制为 8182 个字符。并且这个长度不是只针对数据部分，而是针对整个 URL 而言，在这之中，不同的服务器同样影响 URL 的最大长度限制。因此对于特定的浏览器，GET的长度限制不同。
>
> 由于 POST 方法请求参数在请求主体中，理论上讲，post 方法是没有大小限制的，而真正起限制作用的是服务器处理程序的处理能力。

### HTTP 与 HTTPS 的工作方式

- HTTP

  HTTP（Hyper Text Transfer Protocol: 超文本传输协议） 是一种简单的请求 - 响应协议，被用于在 Web 浏览器和网站服务器之间传递消息。HTTP 使用 TCP（而不是 UDP）作为它的支撑运输层协议。其默认工作在 TCP 协议 80 端口，HTTP 客户机发起一个与服务器的 TCP 连接，一旦连接建立，浏览器和服务器进程就可以通过套接字接口访问 TCP。客户机从套接字接口发送 HTTP 请求报文和接收 HTTP 响应报文。类似地，服务器也是从套接字接口接收 HTTP 请求报文和发送 HTTP 响应报文。其通信内容以明文的方式发送，不通过任何方式的数据加密。当通信结束时，客户端与服务器关闭连接。

- HTTPS

  HTTPS（Hyper Text Transfer Protocol over Secure Socket Layer）是以安全为目标的 HTTP 协议，在 HTTP 的基础上通过传输加密和身份认证的方式保证了传输过程的安全性。

  工作流程：

  ① 客户端发起一个 HTTPS 请求，并连接到服务器的 443 端口，发送的信息主要包括自身所支持的算法列表和密钥长度等；

  ② 服务端将自身所支持的所有加密算法与客户端的算法列表进行对比并选择一种支持的加密算法，然后将它和其它密钥组件一同发送给客户端。

  ③ 服务器向客户端发送一个包含数字证书的报文，该数字证书中包含证书的颁发机构、过期时间、服务端的公钥等信息。

  ④ 最后服务端发送一个完成报文通知客户端 SSL 的第一阶段已经协商完成。

  ⑤ SSL 第一次协商完成后，客户端发送一个回应报文，报文中包含一个客户端生成的随机密码串，称为 pre_master_secre，并且该报文是经过证书中的公钥加密过的。

  ⑥ 紧接着客户端会发送一个报文提示服务端在此之后的报文是采用pre_master_secre 加密的。

  ⑦ 客户端向服务端发送一个 finish 报文，这次握手中包含第一次握手至今所有报文的整体校验值，最终协商是否完成取决于服务端能否成功解密。

  ⑧ 服务端同样发送与第 ⑥ 步中相同作用的报文，已让客户端进行确认，最后发送 finish 报文告诉客户端自己能够正确解密报文。

  当服务端和客户端的 finish 报文交换完成之后，SSL 连接就算建立完成了，之后就进行和 HTTP 相同的通信过程，唯一不同的是在 HTTP 通信过程中并不是采用明文传输，而是采用对称加密的方式，其中对称密钥已经在 SSL 的建立过程中协商好了。

### HTTP 与 HTTPS 的区别

HTTP 协议以明文方式发送内容，数据都是未加密的，安全性较差。HTTPS 数据传输过程是加密的，安全性较好。
HTTP 和 HTTPS 使用的是完全不同的连接方式，用的端口也不一样，前者是 80 端口，后者是 443 端口。
HTTPS 协议需要到数字认证机构（Certificate Authority, CA）申请证书，一般需要一定的费用。
HTTP 页面响应比 HTTPS 快，主要因为 HTTP 使用 3 次握手建立连接，客户端和服务器需要握手 3 次，而 HTTPS 除了 TCP 的 3 次握手，还需要经历一个 SSL 协商过程。

